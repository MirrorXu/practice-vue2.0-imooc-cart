{"version":3,"sources":["../../js/cart.js"],"names":["vm","Vue","el","data","message","productList","checkAllFlag","totalMoney","showMd","productIndex","undefined","canGo","updated","dom","document","getElementById","style","color","created","mounted","$nextTick","cartView","filters","formatMoney","v","toFixed","methods","_this","$http","get","then","res","console","log","result","list","changeMoney","product","way","productQuantity","calcTotalMoney","selectProduct","isChecked","$set","selectAll","forEach","i","productPrice","changeMd","confirmProduct","delProduct","alert","splice","filter","type"],"mappings":"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","file":"cart.js","sourcesContent":["/**\r\n * Created by t on 2017/09/13.\r\n */\r\nvar vm = new Vue({\r\n    el: '#app',\r\n    data: {\r\n        message: 'hello Vue',\r\n        productList: [],\r\n        checkAllFlag:'',\r\n        totalMoney:0,\r\n        showMd:false,\r\n        productIndex:undefined,\r\n        canGo:false\r\n    },\r\n    updated: function () {\r\n        var dom = document.getElementById('dom');\r\n        dom.style.color = 'red';\r\n\r\n        // alert('updated');\r\n    },\r\n    created: function () {\r\n        //alert('created');\r\n    },\r\n    mounted: function () {\r\n        this.$nextTick(function () {\r\n            this.cartView();\r\n        })\r\n\r\n    },\r\n    filters: {\r\n        formatMoney: function (v) {\r\n            return \"￥\" + v.toFixed(2)\r\n        }\r\n    },\r\n    methods: {\r\n        cartView: function () {\r\n            var _this = this;\r\n            this.$http.get('data/cartData.json', {'id': 123}).then(function (res) {\r\n                console.log('cartdata.json:', res);\r\n                _this.productList = res.data.result.list;\r\n                console.log(_this.productList);\r\n            })\r\n        },\r\n        changeMoney:function (product , way) {\r\n            if( way > 0){\r\n                product.productQuantity++\r\n            }else{\r\n                 product.productQuantity-- ;\r\n                if(product.productQuantity < 1){\r\n                    product.productQuantity = 1\r\n                }\r\n            }\r\n            this.calcTotalMoney();\r\n            // console.log(product.productQuantity);\r\n        },\r\n        selectProduct:function (v) {\r\n\r\n            if( typeof v.isChecked == 'undefined' ){\r\n                // Vue.set(v , 'isChecked' ,true );  // 全局注册\r\n                this.$set( v , 'isChecked' , true);\r\n            }else {\r\n                v.isChecked = !v.isChecked\r\n            }\r\n            if(this.checkAllFlag == true && v.isChecked == false){\r\n                this.checkAllFlag = v.isChecked;\r\n            }\r\n\r\n            console.log( v.isChecked );\r\n            this.calcTotalMoney();\r\n        },\r\n        selectAll:function () {\r\n            this.checkAllFlag = !this.checkAllFlag;\r\n            var _this = this;\r\n            _this.productList.forEach(function (v , i) {\r\n                if( v.isChecked == 'undefined'){\r\n                    _this.$set( v ,'isChecked' , _this.checkAllFlag );\r\n                }else {\r\n                    v.isChecked = _this.checkAllFlag;\r\n                }\r\n            })\r\n            this.calcTotalMoney();\r\n        }  ,\r\n        calcTotalMoney:function () {\r\n            var _this = this ;\r\n            _this.totalMoney = 0;\r\n            _this.productList.forEach(function ( v , i ) {\r\n                if( v.isChecked){\r\n                    _this.totalMoney += v.productQuantity*v.productPrice;\r\n                 }\r\n            })\r\n        },\r\n        changeMd:function () {\r\n            this.showMd = !this.showMd ;\r\n        },\r\n        confirmProduct:function ( i ) {\r\n            this.changeMd();\r\n            this.productIndex = i;\r\n        },\r\n        delProduct:function () {\r\n            alert('删除当前页第'+(this.productIndex+1) + '个商品' );\r\n            if( this.productIndex != undefined ){\r\n                this.productList.splice(this.productIndex , 1);\r\n                this.changeMd();\r\n                this.productIndex= undefined ;\r\n            }else{\r\n                alert( 'eorr:productIndex', '无法获取到商品参数')\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n});\r\n\r\n\r\n// 全局过滤器生命\r\nVue.filter('money',function (v ,type) {\r\n    return '￥' + v.toFixed(2) + type\r\n});"]}